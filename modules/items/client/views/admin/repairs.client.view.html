<div>        
    <fieldset class="form-group fieldset">
        <div ng-if="resolutions.length">
            <legend ng-if="!report" class="text-success"><b>Resoluciones</b></legend>                
            <div ng-repeat="resolution in resolutions track by $index">                
                <div class="form-group" ng-if="!readonly">
                    <div class="pull-left"><h4># {{$index+1}}</h4></div>                    
                </div>
                <br /><br />
                <div class="form-group" ng-if="!readonly">
                    <dropdowncontrol model="resolution.technician" collection="technicians" required="true" labelvalue="Técnico" fieldname="resolutionsTechnicianName_{{$index}}" form="form" simple="false" model-field-options="['workshop.name','name']" show-labels="true"></dropdowncontrol>     
                </div>
                <div ng-if="readonly">
                    {{resolution.technician.name}}
                </div>

                <div class="form-group" ng-if="!readonly">
                    <label class="control-label" ng-if="showLabels" for="resolutionsCondition_{{$index}}">Condición *</label>
                    <dropdowncontrol model="resolution.condition" collection="conditions" required="true" labelvalue="Condición" fieldname="resolutionsCondition_{{$index}}" form="form" simple="true" show-labels="false"></dropdowncontrol>     
                </div>
                <div ng-if="readonly">
                        {{resolution.condition}}
                </div>

                <div class="form-group" show-errors ng-if="!readonly">
                    <label class="control-label" ng-if="showLabels" for="resolutionsCost_{{$index}}">Costo ₡ *</label>
                    <input name="resolutionsCost_{{$index}}" type="number" ng-model="resolution.cost" id="resolutionsCost_{{$index}}" autocomplete="off" class="form-control" placeholder="Costo técnico" ng-disabled="readonly" required /> 
                </div>
                <div ng-if="readonly">
                        {{resolution.cost}}
                </div>

                <div class="form-group" show-errors ng-if="!readonly">
                    <label class="control-label" ng-if="showLabels" for="resolutionsObservations_{{$index}}">Observaciones *</label>
                    <textarea name="resolutionsObservations_{{$index}}" ng-model="resolution.observations" id="resolutionsObservations_{{$index}}" autocomplete="off" class="form-control" placeholder="Observaciones" ng-disabled="readonly" required /> 
                </div>
                <div ng-if="readonly">
                        {{resolution.observations}}
                </div>
                
                <div class="form-group" show-errors ng-if="!readonly">
                    <label class="control-label" ng-if="showLabels" for="resolutionnDate">Fecha *</label>
                    <input name="resolutionnDate" type="hidden" ng-model="resolution.date" id="resolutionnDate" class="form-control" required>
                    <datetimepicker 
                        ng-model="resolution.date" 
                        hidden-time="true" 
                        date-format="dd-MMM-yyyy" 
                        current-text="Hoy"
                        clear-text="Limpiar"
                        close-text="Cerrar"></datetimepicker>          
                    <div ng-if="showLabels" ng-messages="form.$error" role="alert">
                        <p class="help-block error-text" ng-message="required">Campo requerido.</p>
                    </div>
                </div>
                <div class="pull-right">
                    <a class="form-group btn btn-xs btn-danger" ng-click="removeResolution($index)" ng-if="!readonly">
                        <i class="glyphicon glyphicon-trash"></i> 
                        Eliminar Resolución         
                    </a> 
                </div><br />
                <hr /> 
            </div>
        </div>        
        <a class="form-group btn btn-secondary" ng-click="addResolution()" ng-if="!readonly">
            <i class="glyphicon glyphicon-plus"></i>
            Agregar Técnico - Resolucion
        </a>  
    </fieldset>   
</div>